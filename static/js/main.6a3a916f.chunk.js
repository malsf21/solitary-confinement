(window["webpackJsonpsolitary-confinement"]=window["webpackJsonpsolitary-confinement"]||[]).push([[0],{34:function(e,t,a){e.exports=a(69)},40:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(11),l=a.n(s),c=(a(39),a(40),a(12)),u=a(13),i=a(17),o=a(14),m=a(18),d=a(33),h=a.n(d),f=a(8),p=a.n(f),v=a(15),g=a.n(v),y=a(9),E=a.n(y),b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.handler&&a.props.handler(a.props.num)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.nomargin?"":"mx-auto";return this.props.card?r.a.createElement("img",{className:"img-fluid card "+e,src:"/solitary-confinement/cards/"+this.props.card.display+this.props.card.suit+".svg",alt:"Playing card, "+this.props.card.display+" of "+this.props.card.suit,onClick:this.handleClick}):r.a.createElement("img",{className:"img-fluid card "+e,src:"/solitary-confinement/cards/B.svg",alt:"Card back",onClick:this.handleClick})}}]),t}(n.Component),k={SPADES:"S",HEARTS:"H",CLUBS:"C",DIAMONDS:"D"},S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).resetGame=function(){a.setState({stage:"layer",deck:a.generateShuffledDeck(),foundations:[[{number:1,display:"A",suit:k.SPADES}],[{number:1,display:"A",suit:k.HEARTS}],[{number:1,display:"A",suit:k.CLUBS}],[{number:1,display:"A",suit:k.DIAMONDS}]],maneuvers:[[],[],[],[],[],[],[],[]],selectedManeuver:null})},a.generateShuffledDeck=function(){for(var e=[],t=2;t<14;t++){var n=void 0;switch(t){case 11:n="J";break;case 12:n="Q";break;case 13:n="K";break;default:n=t}e.push({number:t,display:n,suit:k.SPADES}),e.push({number:t,display:n,suit:k.HEARTS}),e.push({number:t,display:n,suit:k.CLUBS}),e.push({number:t,display:n,suit:k.DIAMONDS})}return a.shuffleDeck(e)},a.shuffleDeck=function(e){var t,a,n;for(t=e.length-1;t>0;t--)a=Math.floor(Math.random()*(t+1)),n=e[t],e[t]=e[a],e[a]=n;return e},a.checkSequence=function(e,t){var n=a.state.foundations[t][0];return n.suit===e.suit&&n.number+1===e.number},a.trySequence=function(e,t){if(a.checkSequence(a.state.maneuvers[e][0],t)){var n=a.state.maneuvers,r=a.state.foundations;r[t].unshift(n[e].shift()),a.setState({maneuvers:n,foundations:r})}},a.tryLayer=function(e){if(a.state.deck.length>0){var t=a.state.deck,n=a.state.maneuvers;n[e].unshift(t.shift()),a.setState({maneuvers:n,deck:t}),0===t.length&&a.setState({stage:"sequence"})}},a.getNumAvailableMoves=function(){for(var e=0,t=0;t<a.state.maneuvers.length;t++)if(0!==a.state.maneuvers[t].length)for(var n=a.state.maneuvers[t][0],r=0;r<a.state.foundations.length;r++)a.checkSequence(n,r)&&e++;return e},a.getGameState=function(){if(a.getNumAvailableMoves())return"winnable";for(var e=0;e<4;e++)if(13!==a.state.foundations[e].length)return"unwinnable";return"won!"},a.handleManeuver=function(e){"layer"===a.state.stage?a.tryLayer(e):"sequence"===a.state.stage&&a.state.maneuvers[e].length&&a.setState({selectedManeuver:e})},a.handleFoundation=function(e){"sequence"===a.state.stage&&null!==a.state.selectedManeuver&&a.trySequence(a.state.selectedManeuver,e)},a.state={stage:"layer",deck:a.generateShuffledDeck(),foundations:[[{number:1,display:"A",suit:k.SPADES}],[{number:1,display:"A",suit:k.HEARTS}],[{number:1,display:"A",suit:k.CLUBS}],[{number:1,display:"A",suit:k.DIAMONDS}]],maneuvers:[[],[],[],[],[],[],[],[]],selectedManeuver:null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(g.a,{className:"game-container",fluid:!0},r.a.createElement(E.a,null,r.a.createElement(p.a,{md:4},r.a.createElement(b,{nomargin:!0,card:this.state.deck[0]}),r.a.createElement("hr",null),r.a.createElement("ul",{className:"list-unstyled mt-1"},r.a.createElement("li",null,"stage: ",this.state.stage),r.a.createElement("li",null,"cards left in deck: ",this.state.deck.length),"sequence"===this.state.stage&&r.a.createElement("li",null,"game state: ",this.getGameState()),null!==this.state.selectedManeuver&&r.a.createElement("li",null,"selected maneuver: ",this.state.selectedManeuver)),r.a.createElement(h.a,{className:"mt-2",onClick:this.resetGame},"Restart Game")),r.a.createElement(p.a,{md:8},r.a.createElement(E.a,null,[0,1,2,3].map(function(t){return r.a.createElement(p.a,{key:t},r.a.createElement(b,{card:e.state.foundations[t][0],num:t,handler:function(t){return e.handleFoundation(t)}}))})),r.a.createElement("hr",null),r.a.createElement(E.a,{className:"my-2"},[0,1,2,3].map(function(t){return r.a.createElement(p.a,{key:t},r.a.createElement(b,{card:e.state.maneuvers[t][0],num:t,handler:function(t){return e.handleManeuver(t)}}))})),r.a.createElement(E.a,{className:"my-2"},[4,5,6,7].map(function(t){return r.a.createElement(p.a,{key:t},r.a.createElement(b,{card:e.state.maneuvers[t][0],num:t,handler:function(t){return e.handleManeuver(t)}}))})))))}}]),t}(n.Component),A=a(22),w=a.n(A),D=a(21),M=a.n(D),C="https://github.com/malsf21/solitary-confinement";var N=function(){return r.a.createElement("div",null,r.a.createElement(M.a,{bg:"dark",variant:"dark"},r.a.createElement(M.a.Brand,{href:"#"},r.a.createElement("span",{role:"img","aria-label":"a playing card"},"\ud83c\udccf"),"Solitary Confinement"),r.a.createElement(w.a,{className:"ml-auto"},r.a.createElement(w.a.Link,{href:C,target:"_blank",rel:"noopener noreferrer"},"Source Code"))),r.a.createElement(g.a,null,r.a.createElement(S,null),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-center"},"made by matt wang, cards by ",r.a.createElement("a",{href:"https://www.me.uk/cards/",target:"_blank",rel:"noopener noreferrer"},"Adrian Kennard"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.6a3a916f.chunk.js.map